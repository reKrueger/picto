(this.webpackJsonppicto=this.webpackJsonppicto||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},64:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(11),c=n.n(r),s=n(3),o=n.n(s),l=n(4),u=n(5),p=n(6),m=n(8),d=n(7),b=(n(43),n(44),n(2)),f=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).connection=function(){return a.props.connect?Object(b.jsx)("div",{className:"connection_dot_green"}):Object(b.jsx)("div",{className:"connection_dot_red"})},a.state={},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"topbar_1",children:[Object(b.jsxs)("div",{className:"topbar_left",children:[Object(b.jsx)("div",{className:"topbar_appName",children:"PICTO"}),this.connection()]}),Object(b.jsx)("div",{className:"topbar_right"})]})}}]),n}(i.a.Component),h=n(15),j=n.n(h),g=null,x={setUrl:["https://createpicto.herokuapp.com","http://127.0.0.1:3000"][g=0],setPATH:["none","ws://localhost:3000/ws/telegraph/"][g]};j.a.defaults.xsrfHeaderName="X-CSRFToken",j.a.defaults.xsrfCookieName="csrftoken";var v={headers:{"Content-Type":"multipart/form-data;boundary=boundary","Content-Disposition":"attachment;filename=file.jpg"}},O={headers:{Accept:"application/json","Content-Type":"multipart/form-data"}},_=j.a.create({baseURL:x.setUrl+"/mosaimg"}),k=j.a.create({baseURL:x.setUrl+"/sketchimg"}),w={pingConnect:function(){return _.get("/img",O)},insertForm:function(e){return _.post("/img",e,O)},insertForm_detail:function(e,t){return _.put("/img/".concat(e),t,v)},makeAPhoto:function(e){return _.get("/img/".concat(e))},insertForm_sketch:function(e){return k.post("/img",e,O)}},N=(n(64),n(101)),I=n(32),C=n.n(I),y=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={},a}return Object(p.a)(n,[{key:"render",value:function(){return console.log("count upload ",this.props.resCount),Object(b.jsx)(N.a,{className:this.props.mobile?"loadDialog_mobile":"loadDialog",open:!0===this.props.open,fullScreen:!0,children:Object(b.jsxs)("div",{className:"loaderScreen",children:[1===this.props.setOpt?Object(b.jsx)("button",{className:"sendBtn",children:Object(b.jsx)("span",{className:"sendBtn_span",children:this.props.resCount})}):null,Object(b.jsx)("div",{className:"loader",children:Object(b.jsx)(C.a,{loading:!0,size:170,color:"black"})})]})})}}]),n}(i.a.Component),S=(n(75),n(34)),U=n(33),F=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).dialogClose=function(){a.props.close()},a.downloadFile=function(){var e=a.props.responseImg;Object(U.saveAs)(e,"photomosaik.jpg")},a.state={},a}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)(N.a,{className:this.props.mobile?"loadDialog_mobile":"loadDialog",open:!0===this.props.open,fullScreen:!0,children:Object(b.jsxs)("div",{className:"dialog_res_div",children:[Object(b.jsx)("button",{className:"btn_back_dialog",onClick:function(){e.dialogClose()},children:Object(b.jsx)(S.a,{size:50})}),Object(b.jsx)("div",{className:"dialog_res_div_2",children:Object(b.jsx)("button",{className:"dialog_res_btn",onClick:function(){return e.downloadFile()},children:Object(b.jsx)("img",{className:this.props.mobile?"dialog_res_img_mobile":"dialog_res_img",src:this.props.responseImg,alt:"..."})})})]})})}}]),n}(i.a.Component),M=n(16),D=(n(77),n(13)),z=n(14),P=function(e){return new Promise((function(t,n){var a=new Image;a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.setAttribute("crossOrigin","anonymous"),a.src=e}))};function L(e){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(o.a.mark((function e(t){var n,a,i,r,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,e.next=3,P(t);case 3:return a=e.sent,i=document.createElement("canvas"),r=i.getContext("2d"),90===n||-90===n||270===n||-270===n?(i.width=a.height,i.height=a.width):(i.width=a.width,i.height=a.height),r.translate(i.width/2,i.height/2),r.rotate(n*Math.PI/180),r.drawImage(a,-a.width/2,-a.height/2),e.abrupt("return",new Promise((function(e){i.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(78);var R=n(17),B=n.n(R),E=n(18),T={3:180,6:0,8:-90};function H(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)}),!1),n.readAsDataURL(e)}))}var V=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).callbackCorrectImg=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.img(t),a.setState({correctImg:t}),a.close();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onClose=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({croppedImage:null});case 1:case"end":return e.stop()}}),e)}))),a.rotation=Object(l.a)(o.a.mark((function e(){var t,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a.state.file){e.next=2;break}return e.abrupt("return");case 2:return t=a.state.file,e.next=5,H(t);case 5:return n=e.sent,e.next=8,Object(z.getOrientation)(t);case 8:if(i=e.sent,!(r=T[i])){e.next=14;break}return e.next=13,L(n,r);case 13:n=e.sent;case 14:a.setState({crop:{x:0,y:0},zoom:1});case 15:case"end":return e.stop()}}),e)}))),a.isHeic=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()({blob:t,toType:"image/jpeg",multiple:!1,quality:.2}).then((function(e){a.setState({heicFile:e},(function(){return a.onHeicFileChange()}))})).catch((function(e){console.log("catch file"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onHeicFileChange=Object(l.a)(o.a.mark((function e(){var t,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.heicFile,e.next=3,H(t);case 3:return n=e.sent,e.next=6,Object(z.getOrientation)(t);case 6:if(i=e.sent,!(r=T[i])){e.next=12;break}return e.next=11,L(n,r);case 11:n=e.sent;case 12:a.setState({file:t,heicLoad:!1,imageSrc:n,crop:{x:0,y:0},zoom:1}),a.props.img(n),a.close();case 15:case"end":return e.stop()}}),e)}))),a.onFileChange=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,i,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[];n.length;)n.pop();Array.from(t.target.files).map((function(e){return n.push(e)})),i=o.a.mark((function e(){var t,n,i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image/heic"!==(t=c[r]).type){e.next=4;break}return a.setState({heicLoad:!0},(function(){return a.isHeic(t)})),e.abrupt("return",{v:void 0});case 4:return n=t,e.next=7,H(n);case 7:return i=e.sent,e.next=10,Object(z.getOrientation)(n);case 10:if(s=e.sent,!(l=T[s])){e.next=16;break}return e.next=15,L(i,l);case 15:i=e.sent;case 16:a.setState({file:a.state.file.concat(n),imageSrc:a.state.imageSrc.concat(i),crop:{x:0,y:0},zoom:1});case 17:case"end":return e.stop()}}),e)})),r=0,c=n;case 5:if(!(r<c.length)){e.next=13;break}return e.delegateYield(i(),"t0",7);case 7:if("object"!==typeof(s=e.t0)){e.next=10;break}return e.abrupt("return",s.v);case 10:r++,e.next=5;break;case 13:a.props.img(a.state.imageSrc),a.close();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.close=function(){a.setState({imageSrc:[],file:[]})},a.state={imageSrc:[],crop:{x:0,y:0},zoom:2,aspect:3/4,croppedAreaPixels:null,croppedImage:null,isCropping:!1,correctImg:null,file:[],heicFile:null,heicLoad:!1},a}return Object(p.a)(n,[{key:"render",value:function(){return this.props.open?Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"ggg",children:[Object(b.jsx)("div",{className:"icon_upload",children:Object(b.jsx)(E.a,{size:30,color:"#363636"})}),Object(b.jsx)("div",{className:"picPos",children:Object(b.jsx)("input",{id:"fileInput",className:"hidden",type:"file",accept:"image/* .heic",onChange:this.onFileChange})})]})}):null}}]),n}(i.a.Component),W=function(e){return new Promise((function(t,n){var a=new Image;a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.setAttribute("crossOrigin","anonymous"),a.src=e}))};function Y(e){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(o.a.mark((function e(t){var n,a,i,r,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,e.next=3,W(t);case 3:return a=e.sent,i=document.createElement("canvas"),r=i.getContext("2d"),90===n||-90===n||270===n||-270===n?(i.width=a.height,i.height=a.width):(i.width=a.width,i.height=a.height),r.translate(i.width/2,i.height/2),r.rotate(n*Math.PI/180),r.drawImage(a,-a.width/2,-a.height/2),e.abrupt("return",new Promise((function(e){i.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(79);var J={3:180,6:0,8:-90};function X(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)}),!1),n.readAsDataURL(e)}))}var G=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).callbackCorrectImg=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.img(t),a.setState({correctImg:t}),a.close();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onClose=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({croppedImage:null});case 1:case"end":return e.stop()}}),e)}))),a.rotation=Object(l.a)(o.a.mark((function e(){var t,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a.state.file){e.next=2;break}return e.abrupt("return");case 2:return t=a.state.file,e.next=5,X(t);case 5:return n=e.sent,e.next=8,Object(z.getOrientation)(t);case 8:if(i=e.sent,!(r=J[i])){e.next=14;break}return e.next=13,Y(n,r);case 13:n=e.sent;case 14:a.setState({crop:{x:0,y:0},zoom:1});case 15:case"end":return e.stop()}}),e)}))),a.isHeic=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()({blob:t,toType:"image/jpeg",multiple:!1,quality:.2}).then((function(e){return e})).catch((function(e){console.log("catch file"),console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onFileChange=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,i,r,c,s,l,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[];n.length;)n.pop();Array.from(t.target.files).map((function(e){return n.push(e)})),i=0,r=n;case 4:if(!(i<r.length)){e.next=26;break}if(c=r[i],s=c,"image/heic"!==c.type){e.next=11;break}return e.next=10,a.isHeic(s);case 10:s=e.sent;case 11:return e.next=13,X(s);case 13:return l=e.sent,e.next=16,Object(z.getOrientation)(s);case 16:if(u=e.sent,!(p=J[u])){e.next=22;break}return e.next=21,Y(l,p);case 21:l=e.sent;case 22:a.setState({file:a.state.file.concat(s),imageSrc:a.state.imageSrc.concat(l),crop:{x:0,y:0},zoom:1});case 23:i++,e.next=4;break;case 26:a.props.img(a.state.imageSrc),a.close();case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.close=function(){a.setState({imageSrc:[],file:[]})},a.state={imageSrc:[],crop:{x:0,y:0},zoom:2,aspect:3/4,croppedAreaPixels:null,croppedImage:null,isCropping:!1,correctImg:null,file:[],heicFile:null,heicLoad:!1},a}return Object(p.a)(n,[{key:"render",value:function(){return this.props.open?Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"ggg",children:[Object(b.jsx)("div",{className:"icon_upload",children:Object(b.jsx)(E.a,{size:30,color:"#363636"})}),Object(b.jsx)("div",{className:"picPos",children:Object(b.jsx)("input",{id:"fileInput",className:"hidden",type:"file",accept:"image/* .heic",multiple:!0,onChange:this.onFileChange})})]})}):null}}]),n}(i.a.Component),K=(n(80),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).dialogText=function(){return Object(b.jsx)("div",{className:"dialogCheckText",children:a.state.text})},a.dialogCallback=function(){a.props.closed()},a.state={text:a.props.text,open:a.props.open,mobile:a.props.mobile},a}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.setState({open:this.props.open}),this.props.text!==e.text&&this.setState({text:this.props.text})}},{key:"render",value:function(){var e=this;return Object(b.jsx)(N.a,{className:this.props.mobile?"checkDialog_mobile":"checkDialog",open:!0===this.state.open,fullScreen:!0,children:Object(b.jsxs)("div",{className:"dialogCheckFrame",children:[Object(b.jsx)("button",{className:"btn_cancel",onClick:function(){e.dialogCallback()},children:Object(b.jsx)(D.a,{size:20})}),this.dialogText()]})})}}]),n}(i.a.Component)),Q=n(35),Z=(n(81),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getPrecent=function(e,t){var n=t/e*100,i=Math.trunc(n);a.props.loadCount(i.toString())},a.sendMultiFile=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,i,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props.multiImg,console.log("progressbar____"),i=Object(M.a)(n.entries()),e.prev=3,c=o.a.mark((function e(){var i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(Q.a)(r.value,2),c=i[0],s=i[1],e.next=3,w.insertForm_detail(t.id,s).then((function(e){var t=n.length;a.getPrecent(t,c+1)}));case 3:case"end":return e.stop()}}),e)})),i.s();case 6:if((r=i.n()).done){e.next=10;break}return e.delegateYield(c(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),i.e(e.t1);case 15:return e.prev=15,i.f(),e.finish(15);case 18:return e.next=20,w.makeAPhoto(t.id).then((function(e){console.log("finish    ",e.data);var t=e.data.img;a.props.responseImg(t),a.props.loader(!1)}));case 20:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),a.sendFile=Object(l.a)(o.a.mark((function e(){var t,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.props.create,e.next="mosaik"===e.t0?3:"sketch"===e.t0?10:17;break;case 3:return t=new FormData,n=a.props.img,t.append("mainpic",n),a.props.loader(!0),e.next=9,w.insertForm(t).then((function(e){a.sendMultiFile(e.data)}));case 9:return e.abrupt("break",18);case 10:return i=new FormData,r=a.props.img,i.append("mainpic",r),a.props.loader(!0),e.next=16,w.insertForm_sketch(i).then((function(e){var t=e.data.img;a.props.responseImg(t)}));case 16:return e.abrupt("break",18);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e)}))),a.creatorView=function(){return a.props.mobile?Object(b.jsx)("div",{className:"send_btn_mobile_div",children:Object(b.jsx)("button",{className:"sendBtn_mobile",onClick:function(){return a.sendFile()},children:Object(b.jsx)("span",{className:"sendBtn_span",children:"create"})})}):Object(b.jsx)("div",{className:"middle_place",children:Object(b.jsx)("div",{className:"sendBtn_div",children:Object(b.jsx)("button",{className:"sendBtn",onClick:function(){return a.sendFile()},children:Object(b.jsx)("span",{className:"sendBtn_span",children:"create"})})})})},a.state={openUploader:!0,img:null,imgUrl:null,multiImg:[],multiImgUrl:[],responseImg:null,loader:!1,mobile:!1,infoMultipic:!1,infoMainpic:!1,backend_data:null,connect:!1,resCount:"0%",setOptions:1},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(b.jsx)("div",{children:this.props.hidden?this.creatorView():null})}}]),n}(i.a.Component));function $(e){return Object(b.jsx)("div",{className:"listItem",children:e.value})}var ee=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).croppedImg=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.userName,e.next=3,fetch(t).then((function(e){return e.blob()})).then((function(e){return new File([e],n,{type:"image/jpeg",name:"file"})}));case 3:i=e.sent,console.log("los gehts......",t),a.setState({img:i,imgUrl:t});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.no_croppedMultiImg=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(M.a)(t),e.prev=1,r=o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,n=a.state.userName,e.next=4,fetch(t).then((function(e){return e.blob()})).then((function(e){return new File([e],n,{type:"image/jpeg",name:"file"})}));case 4:r=e.sent,a.setState({multiImg:a.state.multiImg.concat(r),multiImgUrl:a.state.multiImgUrl.concat(t)});case 6:case"end":return e.stop()}}),e)})),n.s();case 4:if((i=n.n()).done){e.next=8;break}return e.delegateYield(r(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),a.multiImagCubes=function(){var e=a.state.multiImgUrl,t=[];return e.forEach((function(e,n){n<=60&&t.push(Object(b.jsxs)("div",{className:"image_cube_div",children:[Object(b.jsx)("img",{className:"image_cube",src:e,alt:"..."}),Object(b.jsx)("button",{className:"btn_cancel",onClick:function(){return a.removeMultiPic(n)},children:Object(b.jsx)(D.a,{size:20})})]}))})),t.map((function(e){return Object(b.jsx)($,{value:e},t.indexOf(e))}))},a.removeMultiPic=function(e){var t=a.state.multiImgUrl,n=a.state.multiImg;t.splice(e,1),n.splice(e,1),a.setState({multiImgUrl:t,multiImg:n})},a.infoDialogCallback=function(){a.setState({infoMainpic:!1,infoMultipic:!1})},a.mainFrameLeft=function(){return a.state.img?Object(b.jsxs)("div",{className:a.props.mobile?"top_side_picto":"left_side_picto",children:[Object(b.jsx)("div",{className:"bez_window"}),Object(b.jsxs)("div",{className:a.props.mobile?"btn_1_mobile":"btn_1",children:[Object(b.jsx)("img",{className:"image_1",src:a.state.imgUrl,alt:"..."}),Object(b.jsx)("button",{className:"btn_cancel",onClick:function(){a.setState({img:null,imgUrl:null})},children:Object(b.jsx)(D.a,{size:20})})]})]}):Object(b.jsxs)("div",{className:a.props.mobile?"top_side_picto":"left_side_picto",children:[Object(b.jsx)(K,{mobile:a.state.mobile,open:a.state.infoMainpic,text:"info",closed:a.infoDialogCallback}),Object(b.jsx)("button",{className:"btn_info",onClick:function(){a.setState({infoMainpic:!0})},children:Object(b.jsx)(D.b,{size:30})}),Object(b.jsx)("div",{className:"bez_window",children:"Vollbid:"}),Object(b.jsx)("button",{className:a.props.mobile?"btn_1_mobile":"btn_1",children:Object(b.jsx)(V,{img:a.croppedImg,open:a.state.openUploader})})]})},a.mainFrameRight=function(){return a.state.multiImgUrl.length>0?Object(b.jsxs)("div",{className:a.props.mobile?"bottom_side_picto":"right_side_picto",children:[a.props.mobile?Object(b.jsx)("div",{className:"bez_window_mobile",children:Object(b.jsx)(G,{img:a.no_croppedMultiImg,open:a.state.openUploader})}):Object(b.jsx)("div",{className:"bez_window",children:Object(b.jsx)(G,{img:a.no_croppedMultiImg,open:a.state.openUploader})}),Object(b.jsx)("div",{className:a.props.mobile?"btn_2_mobile":"btn_2",children:a.multiImagCubes()})]}):Object(b.jsxs)("div",{className:a.props.mobile?"bottom_side_picto":"right_side_picto",children:[Object(b.jsx)(K,{mobile:a.props.mobile,open:a.state.infoMultipic,text:"info multi",closed:a.infoDialogCallback}),Object(b.jsx)("button",{className:"btn_info",onClick:function(){a.setState({infoMultipic:!0})},children:Object(b.jsx)(D.b,{size:30})}),Object(b.jsx)("div",{className:"bez_window",children:"Mosaik-bilder:"}),Object(b.jsx)("button",{className:a.props.mobile?"btn_1_mobile":"btn_1",children:Object(b.jsx)(G,{img:a.no_croppedMultiImg,open:a.state.openUploader})})]})},a.responseImg=function(e){a.props.responseImg(e),a.setState({img:null,imgUrl:null,multiImgUrl:[],multiImg:[]})},a.mainView=function(){var e=null!==a.state.img&&a.state.multiImg.length>0;return Object(b.jsxs)("div",{className:a.props.mobile?"picto_1_mobile":"picto_1",children:[a.mainFrameLeft(),Object(b.jsx)(Z,{hidden:e,create:"mosaik",mobile:a.props.mobile,img:a.state.img,multiImg:a.state.multiImg,responseImg:function(e){return a.responseImg(e)},loader:function(e){return a.props.loader(e)},loadCount:function(e){return a.props.loadCount(e)}}),a.mainFrameRight()]})},a.state={openUploader:!0,img:null,imgUrl:null,multiImg:[],multiImgUrl:[],loader:!1,infoMultipic:!1,infoMainpic:!1},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){}},{key:"updateWindowDimensions",value:function(){}},{key:"componentWillUnmount",value:function(){console.log("unmount")}},{key:"render",value:function(){return Object(b.jsx)("div",{children:this.mainView()})}}]),n}(i.a.Component),te=(n(82),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).croppedImg=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.userName,e.next=3,fetch(t).then((function(e){return e.blob()})).then((function(e){return new File([e],n,{type:"image/jpeg",name:"file"})}));case 3:i=e.sent,console.log("los gehts......",t),a.setState({img:i,imgUrl:t});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.infoDialogCallback=function(){a.setState({infoMainpic:!1,infoMultipic:!1})},a.skeched=function(){return Object(b.jsx)("div",{className:"middle_place",children:Object(b.jsx)("div",{className:"sendBtn_div",children:Object(b.jsx)("button",{className:"sendBtn",onClick:function(){return a.sendFile()},children:Object(b.jsx)("span",{className:"sendBtn_span",children:"create"})})})})},a.mainFrameCenter=function(){return a.state.img?Object(b.jsxs)("div",{className:a.props.mobile?"top_side_picto":"left_side_picto",children:[Object(b.jsx)("div",{className:"bez_window"}),Object(b.jsxs)("div",{className:a.props.mobile?"btn_1_mobile":"btn_1",children:[Object(b.jsx)("img",{className:"image_1",src:a.state.imgUrl,alt:"..."}),Object(b.jsx)("button",{className:"btn_cancel",onClick:function(){a.setState({img:null,imgUrl:null})},children:Object(b.jsx)(D.a,{size:20})})]})]}):Object(b.jsxs)("div",{className:a.props.mobile?"top_side_picto":"left_side_picto",children:[Object(b.jsx)(K,{mobile:a.props.mobile,open:a.state.infoMainpic,text:"info",closed:a.infoDialogCallback}),Object(b.jsx)("button",{className:"btn_info",onClick:function(){a.setState({infoMainpic:!0})},children:Object(b.jsx)(D.b,{size:30})}),Object(b.jsx)("div",{className:"bez_window",children:"Vollbid:"}),Object(b.jsx)("button",{className:a.props.mobile?"btn_1_mobile":"btn_1",children:Object(b.jsx)(V,{img:a.croppedImg,open:a.state.openUploader})})]})},a.responseImg=function(e){a.props.responseImg(e),a.setState({img:null,imgUrl:null})},a.state={openUploader:!0,img:null,imgUrl:null,loader:!1,mobile:!1,infoMultipic:!1,infoMainpic:!1},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=null!==this.state.img;return Object(b.jsxs)("div",{className:this.props.mobile?"picto_1_mobile":"picto_1",children:[this.mainFrameCenter(),Object(b.jsx)("div",{className:this.props.mobile?"bottom_side_picto":"right_side_picto",children:Object(b.jsx)(Z,{hidden:t,create:"sketch",mobile:!1,responseImg:function(t){return e.responseImg(t)},loader:function(t){return e.props.loader(t)},img:this.state.img})})]})}}]),n}(i.a.Component));function ne(e){return Object(b.jsx)("div",{className:"listItemChanger",children:e.value})}var ae=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).connection=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.pingConnect().then((function(e){e.data.connect&&a.setState({connect:!0})}));case 2:case"end":return e.stop()}}),e)}))),a.removeResponsePic=function(){a.setState({openUploader:!0,img:null,imgUrl:null,multiImg:[],multiImgUrl:[],responseImg:null,loader:!1,infoMultipic:!1,infoMainpic:!1,backend_data:null,resCount:"0%",responseDialog:!1})},a.changer=function(){var e=[];return["Mosaikbiler","Sketchbild"].forEach((function(t,n){var i=a.state.setOptions===n+1;e.push(Object(b.jsx)("button",{className:"changerBtn",style:{background:i?"whitesmoke":"black",color:i?"black":"white"},onClick:function(){a.setState({setOptions:n+1})},children:t}))})),e.map((function(t){return Object(b.jsx)(ne,{value:t},e.indexOf(t))}))},a.mainView=function(){switch(a.state.setOptions){case 1:return Object(b.jsx)(ee,{mobile:a.state.mobile,connect:a.state.connect,responseImg:function(e){return a.setState({responseImg:e,responseDialog:!0})},loadCount:function(e){return a.setState({resCount:e})},loader:function(e){return a.setState({loader:e})}});case 2:return Object(b.jsx)(te,{mobile:a.state.mobile,connect:a.state.connect,responseImg:function(e){return a.setState({responseImg:e,responseDialog:!0})},loader:function(e){return a.setState({loader:e})}});default:return null}},a.state={openUploader:!0,img:null,imgUrl:null,multiImg:[],multiImgUrl:[],responseImg:null,loader:!1,mobile:!1,infoMultipic:!1,infoMainpic:!1,backend_data:null,connect:!1,resCount:"0%",setOptions:1,responseDialog:!1},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.connection(),window.addEventListener("resize",this.updateWindowDimensions())}},{key:"updateWindowDimensions",value:function(){var e=window.innerWidth<=500;document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px")),this.setState({mobile:e},(function(){return console.log("mobil  ",e)}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"main",children:[Object(b.jsx)(f,{connect:this.state.connect}),this.mainView(),Object(b.jsx)(y,{open:this.state.loader,resCount:this.state.resCount,mobile:this.state.mobile,setOpt:this.state.setOptions}),Object(b.jsx)(F,{open:this.state.responseDialog,responseImg:this.state.responseImg,mobile:this.state.mobile,setOpt:this.state.setOptions,close:function(){return e.removeResponsePic()}}),Object(b.jsx)("div",{className:"changerdiv",children:this.changer()})]})}}]),n}(i.a.Component);c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(ae,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.662cc452.chunk.js.map